<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Empathy Map | Home</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav>
        <a href="index.html" class="logo">Empathy Map</a>
        <div class="nav-links">
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="mosaic.html">Mosaic</a>
                <a href="explore.html">explore</a>
            </div>
        </div>
        <button style="background: var(--text); color: var(--bg-base); border: none; padding: 0.8rem 1.8rem; border-radius: 50px; cursor: pointer;" onclick="toggleModal(true)">Share</button>
    </nav>

    <header class="hero" style="text-align:center; padding-top: 5rem;">
        <h1 style="font-family: 'Lora'; font-size: 3rem; margin-bottom: 2rem;">How are you, really?</h1>

        <div style="display: flex; justify-content: center; gap: 12px; flex-wrap: wrap;">
            <button class="filter-btn active" onclick="filterMood('All', this)">All</button>
            <button class="filter-btn" onclick="filterMood('Anxious', this)">Anxious</button>
            <button class="filter-btn" onclick="filterMood('Hopeful', this)">Hopeful</button>
            <button class="filter-btn" onclick="filterMood('Lonely', this)">Lonely</button>
            <button class="filter-btn" onclick="filterMood('Happy', this)">Happy</button>
        </div>
    </header>

    <div id="welcome-quote">
        "You are not alone in your struggle or your hope. Soft skies and heavy hearts both need to let it go... Empty your mind, and fill this space."
    </div>

    <main class="feed" id="feed"></main>

    <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn">ðŸŒ™</button>

    <div class="modal" id="modal">
        <div class="modal-box">
            <h2 style="font-family: 'Lora'; text-align: center;">Release a thought</h2>
            <textarea id="input" placeholder="What's on your mind?"></textarea>
            <select id="moodSelect" style="width: 100%; padding: 12px; border-radius: 12px; margin-bottom: 20px; background: transparent; color: inherit;">
                <option value="Anxious">Anxious</option>
                <option value="Hopeful">Hopeful</option>
                <option value="Lonely">Lonely</option>
                <option value="Happy">Happy</option>
            </select>
            <button style="background: var(--text); color: var(--bg-base); width: 100%; padding: 1rem; border-radius: 50px; border: none; cursor: pointer;" onclick="publish()">Release</button>
            <p onclick="toggleModal(false)" style="text-align: center; margin-top: 15px; cursor: pointer; opacity: 0.5;">Close</p>
        </div>
    </div>

    <script>
        function toggleModal(show) {
            document.getElementById('modal').classList.toggle('active', show);
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            document.getElementById('theme-btn').innerText = isDark ? "â˜€ï¸" : "ðŸŒ™";
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        function filterMood(mood, btn) {
            const cards = document.querySelectorAll('.card');
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            cards.forEach(c => {
                c.style.display = (mood === 'All' || c.getAttribute('data-mood') === mood) ? 'block' : 'none';
            });
        }

        function publish() {
            const text = document.getElementById('input').value;
            const mood = document.getElementById('moodSelect').value;
            const quote = document.getElementById('welcome-quote');
            if (!text.trim()) return;
            if (quote) quote.style.display = 'none';

            const card = document.createElement('div');
            card.className = 'card';
            card.setAttribute('data-mood', mood);
            card.innerHTML = `
                <button onclick="this.parentElement.remove()" style="position:absolute; top:15px; right:20px; border:none; background:#ff4d4d; color:white; border-radius:50%; width:25px; height:25px; cursor:pointer;">âœ•</button>
                <div style="font-size: 0.7rem; font-weight: bold; color: var(--accent); margin-bottom: 10px;">${mood.toUpperCase()}</div>
                <div class="card-text">${text}</div>
            `;
            document.getElementById('feed').prepend(card);
            document.getElementById('input').value = "";
            toggleModal(false);
        }

        window.onload = () => {
            if (localStorage.getItem('theme') === 'dark') toggleTheme();
        };
    </script>
</body>

</html>